<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>添加章节</title>
  <script src="/js/angular-1.3.10/angular.min.js"></script>
</head>

<body ng-app="myApp">
<div ng-controller="saveChapter">
  <div class="col-md-3 text-right">标题</div>
  <div class="col-md-12">
    <input type="text" ng-model="title"  placeholder="请输入20个字符内消息标题" max-length="20">
  </div>
  <div class="col-md-12 contentBox">
    <div class="selOpt"><input type="checkbox" ng-checked="true" ng-disabled="true" disabled="disabled" checked="checked">内容</div>
    <textarea placeholder="请输入60字符以内的备注" ng-model="content" max-length="20000" cols="150" rows="300"></textarea>
  </div>
  <input type="button" ng-click="click()" name="提交"/>
</div>
<script>
  var app = angular.module('myApp', []);
  app.controller('saveChapter', function($scope, $http) {
    $scope.requestData = {'novelId':1,'title':$scope.title,'content':$scope.content,'authorId':1};
    $scope.click = function(){
      $http({
        data:{'novelId':1,'title':$scope.title,'content':$scope.content,'authorId':1},
        url:'/novel/saveOrupdateChapter',
        method:'POST',
        headers: {'Content-Type': 'application/json'}
      }).success(function(data){
        if(data.meta.errno == 0){
          alert("添加成功");
        }else{
          alert("添加失败");
        }
      }).error(function(){
        alert("回掉！错了");
      });
    }
  });

</script>
</body>
</html>